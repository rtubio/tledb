
USER='rtubio'
LOGL='debug'

CONFIG_DIR='config'
SUPERVISOR_CFG_DIR='/etc/supervisor/conf.d'
PACKAGES_FILE="$CONFIG_DIR/debian.packages"
REQUIREMENTS_FILE="$CONFIG_DIR/requirements.txt"

VENV_DIR='.tledb'
VENV_ACTIVATE="$VENV_DIR/bin/activate"

SECRETS="$(pwd)/.secrets"
MYSQL_SECRETS="$SECRETS/mysql.json"

DJANGO_APP_NAME='tledb'
DJANGO_SECRETS="$SECRETS/django.json"

CELERY_LOGS="$(pwd)/logs"
CELERY_ENV="$(pwd)/$VENV_DIR"
CELERY_ENV_ACTIVATE="$CELERY_ENV/bin/activate"
CELERY_BIN="$CELERY_ENV/bin/celery"
CELERY_WD="$(pwd)/tledb"
CELERY_SCH="django_celery_beat.schedulers:DatabaseScheduler"
CELERY_BEAT_APP='tledb-beat'
CELERY_BEAT_CFG="$SUPERVISOR_CFG_DIR/$CELERY_BEAT_APP.conf"
CELERY_BEAT_LOG="$CELERY_LOGS/$CELERY_BEAT_APP.log"
CELERY_WORKER_APP='tledb-worker'
CELERY_WORKER_CFG="$SUPERVISOR_CFG_DIR/$CELERY_WORKER_APP.conf"
CELERY_WORKER_LOG="$CELERY_LOGS/$CELERY_WORKER_APP.log"

GU_APP='tledb-gunicorn'
GU_LOGS="$(pwd)/logs"
GU_CONF="$SUPERVISOR_CFG_DIR/$GU_APP.conf"
GU_LOG="$GU_LOGS/$GU_APP.log"
GU_ENV_ACTIVATE="$CELERY_ENV/bin/activate"
GU_BIN="$CELERY_ENV/bin/gunicorn"
GU_WD="$(pwd)/tledb"
GU_WSGI_MOD='tledb.wsgi'

GU_HOST='0.0.0.0'
GU_PORT='8002'
GU_COMMAND="$GU_BIN --bind $GU_HOST:$GU_PORT $GU_WSGI_MOD:application"

NGINX_CONF='/etc/nginx/'
NGINX_HOST=''
NGINX_PORT=443
NGINX_REMOTE=''
NGINX_DOMAIN=''
NGINX_SSL_CERT=''
NGINX_SSL_KEY=''
NGINX_STATIC=''

sql_file='/tmp/sqlcommands'

database_sh='scripts/mysql/setup.sh'
supervisor_sh='scripts/supervisor/celery.sh'
django_sh='scripts/django/setup.sh'
django_skg='scripts/django/secretkey.py'
